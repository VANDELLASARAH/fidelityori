/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1);var _4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}).forEach(function(_6,_7){if(_3[_7]===undefined){_3[_7]=_6;}});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);var _8=0;var _9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _e=[];var _f=_b.zulu?"getUTC":"get";var _10="";if(_b.selector!="time"){var _11=_a[_f+"FullYear"]();_10=["0000".substr((_11+"").length)+_11,_(_a[_f+"Month"]()+1),_(_a[_f+"Date"]())].join("-");}_e.push(_10);if(_b.selector!="date"){var _12=[_(_a[_f+"Hours"]()),_(_a[_f+"Minutes"]()),_(_a[_f+"Seconds"]())].join(":");var _13=_a[_f+"Milliseconds"]();if(_b.milliseconds){_12+="."+(_13<100?"0":"")+_(_13);}if(_b.zulu){_12+="Z";}else{if(_b.selector!="time"){var _14=_a.getTimezoneOffset();var _15=Math.abs(_14);_12+=(_14>0?"-":"+")+_(Math.floor(_15/60))+":"+_(_15%60);}}_e.push(_12);}return _e.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _17=d._scopeName+"Type";var qry="["+_17+"]";var _19=0,_1a={};var _1b=function(_1c,_1d){var nso=_1d||_1a;if(dojo.isIE){var cn=_1c["__dojoNameCache"];if(cn&&nso[cn]===_1c){return cn;}}var _20;do{_20="__"+_19++;}while(_20 in nso);nso[_20]=_1c;return _20;};function _21(_22){if(d.isString(_22)){return "string";}if(typeof _22=="number"){return "number";}if(typeof _22=="boolean"){return "boolean";}if(d.isFunction(_22)){return "function";}if(d.isArray(_22)){return "array";}if(_22 instanceof Date){return "date";}if(_22 instanceof d._Url){return "url";}return "object";};function _23(_24,_25){switch(_25){case "string":return _24;case "number":return _24.length?Number(_24):NaN;case "boolean":return typeof _24=="boolean"?_24:!(_24.toLowerCase()=="false");case "function":if(d.isFunction(_24)){_24=_24.toString();_24=d.trim(_24.substring(_24.indexOf("{")+1,_24.length-1));}try{if(_24.search(/[^\w\.]+/i)!=-1){_24=_1b(new Function(_24),this);}return d.getObject(_24,false);}catch(e){return new Function();}case "array":return _24?_24.split(/\s*,\s*/):[];case "date":switch(_24){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_24);}case "url":return d.baseUrl+_24;default:return d.fromJson(_24);}};var _26={};function _27(_28){if(!_26[_28]){var cls=d.getObject(_28);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_28+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _2a=cls.prototype;var _2b={},_2c={};for(var _2d in _2a){if(_2d.charAt(0)=="_"){continue;}if(_2d in _2c){continue;}var _2e=_2a[_2d];_2b[_2d]=_21(_2e);}_26[_28]={cls:cls,params:_2b};}return _26[_28];};this._functionFromScript=function(_2f){var _30="";var _31="";var _32=_2f.getAttribute("args");if(_32){d.forEach(_32.split(/\s*,\s*/),function(_33,idx){_30+="var "+_33+" = arguments["+idx+"]; ";});}var _35=_2f.getAttribute("with");if(_35&&_35.length){d.forEach(_35.split(/\s*,\s*/),function(_36){_30+="with("+_36+"){";_31+="}";});}return new Function(_30+_2f.innerHTML+_31);};this.instantiate=function(_37,_38){var _39=[];_38=_38||{};d.forEach(_37,function(_3a){if(!_3a){return;}var _3b=_17 in _38?_38[_17]:_3a.getAttribute(_17);if(!_3b||!_3b.length){return;}var _3c=_27(_3b),_3d=_3c.cls,ps=_3d._noScript||_3d.prototype._noScript;var _3f={},_40=_3a.attributes;for(var _41 in _3c.params){var _42=_41 in _38?{value:_38[_41],specified:true}:_40.getNamedItem(_41);if(!_42||(!_42.specified&&(!dojo.isIE||_41.toLowerCase()!="value"))){continue;}var _43=_42.value;switch(_41){case "class":_43="className" in _38?_38.className:_3a.className;break;case "style":_43="style" in _38?_38.style:(_3a.style&&_3a.style.cssText);}var _44=_3c.params[_41];if(typeof _43=="string"){_3f[_41]=_23(_43,_44);}else{_3f[_41]=_43;}}if(!ps){var _45=[],_46=[];d.query("> script[type^='dojo/']",_3a).orphan().forEach(function(_47){var _48=_47.getAttribute("event"),_3b=_47.getAttribute("type"),nf=d.parser._functionFromScript(_47);if(_48){if(_3b=="dojo/connect"){_45.push({event:_48,func:nf});}else{_3f[_48]=nf;}}else{_46.push(nf);}});}var _4a=_3d["markupFactory"];if(!_4a&&_3d["prototype"]){_4a=_3d.prototype["markupFactory"];}var _4b=_4a?_4a(_3f,_3a,_3d):new _3d(_3f,_3a);_39.push(_4b);var _4c=_3a.getAttribute("jsId");if(_4c){d.setObject(_4c,_4b);}if(!ps){d.forEach(_45,function(_4d){d.connect(_4b,_4d.event,null,_4d.func);});d.forEach(_46,function(_4e){_4e.call(_4b);});}});d.forEach(_39,function(_4f){if(_4f&&_4f.startup&&!_4f._started&&(!_4f.getParent||!_4f.getParent())){_4f.startup();}});return _39;};this.parse=function(_50){var _51=d.query(qry,_50);var _52=this.instantiate(_51);return _52;};}();(function(){var _53=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_53);}else{dojo._loaders.unshift(_53);}})();}if(!dojo._hasResource["fmr.rct.ui.AutoComplete"]){dojo._hasResource["fmr.rct.ui.AutoComplete"]=true;dojo.provide("fmr.rct.ui.AutoComplete");dojo.declare("fmr.rct.ui.AutoComplete",null,{constructor:function(_54){this.viewElements=_54.viewElements;this.errorHandler=_54.errorHandler||function(){};this.beforeLookup=_54.beforeLookup||null;this.resultsReturned=_54.resultsReturned||null;this.acButton=dojo.byId(_54.acButton)||null;this.accessLabel=_54.viewElements.accessLabel||null;this.accessText=_54.viewElements.accessText||"";this.query=_54.query||{};this.searchAttr=_54.searchAttr;this.minQueryLength=_54.minQueryLength||1;this.labelProperties=_54.labelProperties;this.labelAttr=_54.labelAttr;this.scrolling=_54.scrolling;if(this.scrolling){this.viewObj=_54.viewObject||new fmr.rct.ui.ACScrollingViewObject({"viewElements":_54.viewElements,"viewFormatter":_54.viewFormatter,"highlight":this.highlight,"resultsReturned":this.resultsReturned,"accessLabel":this.accessLabel,"accessText":this.accessText,"labelAttr":this.labelAttr,"labelProperties":this.labelProperties,"rowHeight":_54.rowHeight,"rowsDisplayed":_54.rowsDisplayed,"imagesDir":_54.imagesDir});}else{this.viewObj=_54.viewObject||new fmr.rct.ui.ACViewObject({"viewElements":_54.viewElements,"viewFormatter":_54.viewFormatter,"highlight":this.highlight,"resultsReturned":this.resultsReturned,"accessLabel":this.accessLabel,"accessText":this.accessText,"labelAttr":this.labelAttr,"labelProperties":this.labelProperties});}if(_54.store){this.model=new fmr.rct.ui.ACModelDSE(_54);}else{this.model=_54.model||new fmr.rct.ui.ACModel(_54);}this.filter=_54.serviceFilter||null;this.controller=_54.controller||new fmr.rct.ui.ACController({"view":this.viewObj,"model":this.model,"dataSource":_54.dataSource,"beforeLookup":this.beforeLookup,"resultsReturned":this.resultsReturned,"minQueryLength":this.minQueryLength,"labelAttr":this.labelAttr,"labelProperties":this.labelProperties});dojo.connect(this.viewObj.getResultPane(),"onmouseover",this.controller,"handleMouseEvent");dojo.connect(this.viewObj.getResultPane(),"onmouseout",this.controller,"handleMouseEvent");dojo.connect(this.viewObj.getResultPane(),"onmousedown",this.controller,"clickedItem");if(this.acButton){dojo.connect(this.acButton,"onclick",this.controller,"btnSubmit");}dojo.connect(this.viewObj.getInputField(),"onblur",this.viewObj,"hideDisplay");dojo.connect(this.viewObj.getInputField(),"onkeyup",this.controller,"handleKeys");if(!(dojo.isSafari||dojo.isIE)){dojo.connect(this.viewObj.getInputField(),"onkeypress",this.controller,"handleArrows");}else{dojo.connect(this.viewObj.getInputField(),"onkeydown",this.controller,"handleArrows");}if(this.scrolling){dojo.connect(this.controller,"handleArrows",this.viewObj,"arrowScroll");}this._cb=_54.itemSelected||function(_55){dojo.publish("fmr.rct.ui.ACitemSelected",[_55]);};dojo.connect(this.model,"selectItem",this,function(_56,_57){var _58={};var act="";if(this.model.getCurrentSearch()){act=this.model.getCurrentSearch();}else{if(this.beforeLookup){act=this.beforeLookup(this.viewObj.getInputFieldValue());}else{act=this.viewObj.getInputFieldValue();}}if(this.model.getItem(_56)){_58=this.model.getItem(_56);_58.acTyped=act;}else{dojo.forEach(this.labelProperties,function(_5a){_58[_5a]=null;},this);_58.acTyped=act;}this.controller.clearResultPane();this._cb(_58,this.getView(),_57);});dojo.connect(this.model,"setData",this.viewObj,"updateResultsPane");if(this.viewObj.getInputFieldValue().length>0){var e={};e.target={};e.target.value=this.viewObj.getInputFieldValue();this.controller.handleKeys(e);}},errorHandler:null,viewElements:null,beforeLookup:null,resultsReturned:null,minQueryLength:1,acButton:"",query:null,count:Infinity,searchAttr:"",filter:"",controller:"",scrolling:false,imagesDir:"",rowHeight:0,rowsDisplayed:0,itemSelected:null,store:null,labelProperties:null,labelAttr:"",getController:function(){return this.controller;},getView:function(){return this.viewObj;},acSubmit:function(){this.getController().acSubmit();}});dojo.provide("fmr.rct.ui.ACViewObject");dojo.declare("fmr.rct.ui.ACViewObject",null,{constructor:function(_5c){this.highlight=_5c.highlight;this.hasResults=false;this.currentSearch="";this.resultsReturned=_5c.resultsReturned;this.accessLabel=_5c.accessLabel;this.accessTextSwitch=_5c.accessText;if(this.accessLabel){this.accessText=this.accessLabel.innerHTML;}else{this.accessText="";}this.labelAttr=_5c.labelAttr;this.labelProperties=_5c.labelProperties;this.elements=_5c.viewElements;this.elements.dataInput=dojo.byId(_5c.viewElements.dataInput);this.elements.resultPane=dojo.byId(_5c.viewElements.resultPane);this.elements.errorPane=dojo.byId(_5c.viewElements.errorPane);this.elements.accessLabel=dojo.byId(_5c.viewElements.accessLabel);this.currState;this.currentIndex=0;this.viewFormatter=_5c.viewFormatter||function(_5d,_5e,_5f){_5d=_5d.split(",");parens=/[()]*/;_5d="("+_5d[_5d.length-1].replace(/^\s*/,"").replace(/\s*$/,"").replace(parens,"")+")";var re=new RegExp(_5d,"i");var tmp="";tmp="<tr id='"+_5e+"'><th id='"+_5e+"' class='acItemIndex'>";tmp+=this.getMatch(re,_5f[this.labelAttr],_5e)+" ";dojo.forEach(this.labelProperties,function(_62,idx,arr){if(_62!=this.labelAttr){tmp+=_5f[_62]+" ";}},this);tmp+="</th></tr>";return tmp;};},setAccessLabel:function(){if(this.accessLabel){this.accessLabel.innerHTML=this.accessTextSwitch;}},resetAccessLabel:function(){if(this.accessLabel){this.accessLabel.innerHTML=this.accessText;}},getHasResults:function(){return this.hasResults;},getErrorCondition:function(){return this.errorCondition;},getInputField:function(){return this.elements.dataInput;},getInputFieldValue:function(){return this.elements.dataInput.value;},setInputFieldValue:function(_65){this.elements.dataInput.value=_65;},getResultPane:function(){return this.elements.resultPane;},getErrorPane:function(){return this.elements.errorPane;},clearDisplay:function(){this.elements.resultPane.style.display="none";this.resetAccessLabel();this.clearResults();},hideDisplay:function(){if(this.scrollbar){return;}this.elements.resultPane.style.display="none";this.resetAccessLabel();},clearError:function(){this.getErrorPane().style.display="none";this.getErrorPane().innerHTML="";},showDisplay:function(){if(this.getInputFieldValue()==""){this.elements.resultPane.style.display="block";this.hasResults=false;}else{this.elements.resultPane.style.display="block";this.hasResults=true;}},clearResults:function(){this.elements.resultPane.innerHTML="";this.hasResults=false;},getMatch:function(re,val,_68){var _69="<span id='"+_68+"' class='acItemMatch'>$1</span>";return val.replace(re,_69);},updateResultsPane:function(_6a){this.clearResults();if(this.getInputFieldValue()!=""){if(_6a&&_6a.length>0){var _r="";var q=this.currentSearch;if(this.resultsReturned){_r=this.resultsReturned(_6a,this.currentSearch,this.getMatch);}else{_r="<table class='acItemTable'>";for(var i=0;i<_6a.length;i++){_r+=this.viewFormatter(q,i,_6a[i]);}_r+="</table>";}this.getResultPane().innerHTML=_r;this.showDisplay();this.clearError();this.errorCondition=false;}else{this.hasResults=false;this.clearDisplay();}}},getCursor:function(_6e){var _6f=this.getResultPane();if(_6f.innerHTML.length===0){return -1;}if(_6e===40){if(!this.currState){this.currState="down";return 0;}return (this.currentIndex===(this.getResults().length-1))?(this.getResults().length-1):++this.currentIndex;}else{if(_6e===38){return (this.currentIndex===0)?0:--this.currentIndex;}}},addClass:function(obj){if(this._cid){this.removeClass(this._cid);}if(obj){this._cid=this.findContainer(obj,"TR");dojo.addClass(this._cid,"acItemOver");}},findContainer:function(obj,_72){while(obj.tagName!=_72){obj=obj.parentNode;}return obj;},removeClass:function(obj){if(obj){dojo.removeClass(obj,"acItemOver");}},resetState:function(){this.currState=null;this.currentIndex=0;this.currentResult=null;this.currVal=null;},getResult:function(idx){return this.getResultPane().firstChild.firstChild.childNodes[idx];},getResults:function(){return this.getResultPane().firstChild.firstChild.childNodes;},setCurrent:function(_75){this.currentSearch=_75;}});dojo.provide("fmr.rct.ui.ACScrollingViewObject");dojo.declare("fmr.rct.ui.ACScrollingViewObject",[fmr.rct.ui.ACViewObject],{rowHeight:"",rowsDisplayed:"",imagesDir:false,data:[],constructor:function(_76){this.rowHeight=_76.rowHeight||20;this.rowsDisplayed=_76.rowsDisplayed||3;this.imagesDir=_76.imagesDir;},updateResultsPane:function(_77){this.clearResults();if(this.getInputFieldValue()!=""){if(_77&&_77.length>0){var _r="";var q=this.currentSearch;if(this.resultsReturned){_r=this.resultsReturned(_77,this.currentSearch,this.getMatch);}else{this.data=_77;this.createRows(_77,this.currentSearch);}this.showDisplay();this.clearError();this.errorCondition=false;}else{this.hasResults=false;this.clearDisplay();}}},addClass:function(obj){if(this._cid){this.removeClass(this._cid);}if(obj){this._cid=obj;dojo.addClass(this.findContainer(obj,"DIV"),"acItemOver");}},createRows:function(_7b,_7c){var _7d=_7b.length<this.rowsDisplayed?_7b.length:this.rowsDisplayed;var _7e=document.createElement("DIV");dojo.attr(_7e,{"id":"content","class":"content"});var _7f=document.createElement("DIV");dojo.attr(_7f,{"id":"inner","class":"inner"});dojo.place(_7f,this.elements.resultPane,"only");dojo.place(_7e,_7f,"only");dojo.forEach(_7b,function(_80,idx){_7e.appendChild(this.createRow(_80,_7c,idx));},this);var dis=this.rowHeight*_7d;dojo.query(".inner",this.elements.resultPane).style("height",dis+"px");},createRow:function(_83,_84,idx){_84=_84.split(",");parens=/[()]*/;_84="("+_84[_84.length-1].replace(/^\s*/,"").replace(/\s*$/,"").replace(parens,"")+")";var re=new RegExp(_84,"i");var div=document.createElement("DIV");dojo.attr(div,{"class":"acItemIndex","id":idx});dojo.style(div,{"height":this.rowHeight+"px","overflow":"hidden","whiteSpace":"nowrap"});var _88="";dojo.forEach(this.labelProperties,function(l,idx,arr){_88+=_83[l];if((idx+1)<arr.length){_88+=" - ";}});var h=this.getMatch(re,_88,idx);div.innerHTML=h;return div;},moveUp:function(){var _8d=dojo.byId("inner");var st=_8d.scrollTop;st=st-this.rowHeight;_8d.scrollTop=st;},moveDown:function(){var _8f=dojo.byId("inner");var st=_8f.scrollTop;st=st+this.rowHeight;_8f.scrollTop=st;},arrowScroll:function(e){if(e.keyCode===40){if(this.currentIndex>=this.rowsDisplayed){this.moveDown();}}else{if(e.keyCode===38){if(this.currentIndex<=((this.data.length-1)-this.rowsDisplayed)){this.moveUp();}}}},getResult:function(idx){return this.getResultPane().childNodes[0].firstChild.childNodes[idx];},getResults:function(idx){return this.getResultPane().childNodes[0].firstChild.childNodes;}});dojo.provide("fmr.rct.ui.ACModel");dojo.declare("fmr.rct.ui.ACModel",null,{constructor:function(_94){this._results=[];this.currVal=null;this.typedVal="";this.currentSearch="";this.ds=_94.dataSource;},selectItem:function(_95,_96){},setData:function(_97){this._results=_97;},clearData:function(){this._results=[];},getData:function(){return this._results;},getItem:function(_98){return this._results[_98];},setTyped:function(_99){this.typedVal=_99;},getTyped:function(){return this.typedVal;},setCurrentSearch:function(_9a){this.currentSearch=_9a;},getCurrentSearch:function(){return this.currentSearch;},updateResults:function(_9b,_9c){this.ds.getData(_9b,this,_9c);}});dojo.provide("fmr.rct.ui.ACModelDSE");dojo.declare("fmr.rct.ui.ACModelDSE",[fmr.rct.ui.ACModel],{constructor:function(_9d){this._results=[];this.currVal=null;this.typedVal="";this.currentSearch="";this.store=_9d.store;this.query=_9d.query;this.count=_9d.count||Infinity;this.searchAttr=_9d.searchAttr;},updateResults:function(_9e){this.query[this.searchAttr]=_9e;var _9f=this;var _a0=this.store;this.store.fetch({count:this.count,query:this.query,onComplete:function(_a1){var _a2=_a0.getAttributes();var r=[];dojo.forEach(_a1,function(_a4,idx,arr){r[idx]={};dojo.forEach(_a2,function(a){r[idx][a]=_a0.getValue(_a4,a);},this);},this);_9f.setData(r);}});}});dojo.provide("fmr.rct.ui.ACController");dojo.declare("fmr.rct.ui.ACController",null,{constructor:function(_a8){this.view=_a8.view;this.model=_a8.model;this.beforeLookup=_a8.beforeLookup||null;this.resultsReturned=_a8.resultsReturned||null;this.currentResult=null;this.currState=null;this.currVal=null;this._cid=null;this.btnFocus=false;this.minQueryLength=_a8.minQueryLength;this.labelAttr=_a8.labelAttr;this.labelProperties=_a8.labelProperties;},selectInput:function(_a9){if(!this.currentResult){if(this.view.getHasResults()){this.model.selectItem(0,_a9);}else{var _aa=this.labelAttr;this.model.selectItem({label:null,"acTyped":this.view.getInputFieldValue()},_a9);}}else{if(this.view.getInputFieldValue().length==0){var _aa=this.labelAttr;this.model.selectItem({label:null,"acTyped":this.view.getInputFieldValue()},_a9);}else{this.model.selectItem(this.currentResult.id,_a9);}}this.view.clearResults();},acSubmit:function(){this.selectInput();},btnSubmit:function(){this.selectInput("button");},buttonFocus:function(){this.btnFocus=true;},buttonBlur:function(){this.btnFocus=false;},resetState:function(){this.view.resetState();},getResults:function(e){var _ac=e.target.value;if(this.beforeLookup){_ac=this.beforeLookup(_ac);}if(_ac.length>=this.minQueryLength){this.model.setCurrentSearch(_ac);this.view.setCurrent(_ac);this.resetState();this.model.updateResults(_ac,this);}},clickedItem:function(e){var _ae=e.target.id;if(_ae=="inner"){return;}this.resetState();this.view.clearDisplay();if(e.button!=2&&e.button!=3){var _ae=e.target.id;this.model.selectItem(_ae,"clicked");}},clearResultPane:function(){this.view.clearDisplay();this.model.clearData();},handleMouseEvent:function(evt){if(evt.target.id=="inner"){if(evt.type=="mouseover"){this.view.scrollbar=true;}else{if(evt.type=="mouseout"){this.view.scrollbar=false;this.view.elements.dataInput.focus();}}}if(evt.target.id&&evt.target.id!==this.view.getResultPane().id&&evt.target.id!=="content"&&evt.target.id!=="inner"){if(evt.type==="mouseover"){this.view.removeClass(this.currentResult);this.currentIndex=evt.target.id;this.view.addClass(evt.target);}else{this.view.removeClass(evt.target);}}},handleArrows:function(e){try{switch(e.keyCode){case 38:case 40:if(this.view.getInputFieldValue().length>0){var _b1=this.view.getCursor(e.keyCode);if(_b1!=-1){this.view.showDisplay();this.currentResult=this.view.getResult(_b1);var txt="";dojo.forEach(this.labelProperties,function(_b3,idx,arr){txt+=_b3+": "+this.model.getItem(this.currentResult.id)[_b3];if(idx+1<arr.length){txt+=", ";}},this);this.view.setAccessLabel(txt);this.view.setInputFieldValue(this.model.getItem(this.currentResult.id)[this.labelAttr]);this.view.addClass(this.view.getResult(_b1));if(e.keyCode===40&&_b1>0){this.view.removeClass(this.view.getResult(_b1-1));}else{if(e.keyCode===38&&_b1>=0){this.view.removeClass(this.view.getResult(_b1+1));}}}}}}catch(err){alert("HandleArrows.Error: "+err.message);}},handleKeys:function(e){try{switch(e.keyCode){case 46:case 8:if(!e.target.value){this.view.clearDisplay();this.view.clearResults();this.model.setCurrentSearch("");this.resetState();}else{if(!this.view.getInputFieldValue().match(/[\w]+/)){this.view.clearDisplay();this.view.clearResults();this.model.setCurrentSearch("");this.resetState();}else{this.getResults(e);}}this.model.setTyped(this.view.getInputFieldValue());break;case 13:this.selectInput();this.clearResultPane();break;case 27:this.clearResultPane();this.view.clearDisplay();this.view.clearError();this.view.setInputFieldValue(this.model.getTyped());break;case 37:break;case 38:break;case 39:break;case 40:break;default:if(this.view.getInputFieldValue()==""){this.view.clearDisplay();}else{this.getResults(e);this.model.setTyped(this.view.getInputFieldValue());}}}catch(err){alert("HandleKeys.Error: "+err.message);}}});}if(!dojo._hasResource["fmr.rct.ui.DisplayObject"]){dojo._hasResource["fmr.rct.ui.DisplayObject"]=true;dojo.provide("fmr.rct.ui.DisplayObject");dojo.declare("fmr.rct.ui.DisplayObject",null,{displayNode:"",triggerNode:"",triggerEvents:"",hideEvents:null,toggleDisplay:false,vMargin:0,hMargin:0,watchDelay:0,posAnchor:null,forcedPosition:false,displayOrientation:null,displayMode:null,displayConfig:null,hideConfig:null,configObject:null,removeOnHide:false,name:"",_previousDisplayed:null,_triggerCoords:null,_displayCoords:null,_displayTries:0,_displayAnimation:null,_hideAnimation:null,_opacity:0,_isDisplayed:false,_attempted:"",_delim:";",constructor:function(_b7){this.configObject=_b7.configObject||{};var _b8=fmr.rct.ui.DisplayObject.DEFAULT_CONFIG;var c=this.configObject;this.displayNode=dojo.byId(_b7.displayNode);this.triggerNode=dojo.byId(_b7.triggerNode);this.name=this.displayNode.id||this.displayNode.tagName+"."+this.displayNode.className;var _ba=_b7.triggerEvents||c.triggerEvents||_b8.triggerEvents;this.triggerEvents=_ba.split(",");var _bb=_b7.hideEvents||c.hideEvents||_b8.hideEvents;this.hideEvents=_bb.split(",");this.forcedPosition=_b7.forcedPosition||c.forcedPosition||_b8.forcedPosition;this.displayOrientation=_b7.displayOrientation||_b7.displayMode||c.displayOrientation||_b8.displayOrientation;this.hideConfig=_b7.hideConfig||c.hideConfig||_b8.hideConfig;this.displayConfig=_b7.displayConfig||c.displayConfig||_b8.displayConfig;this.toggleDisplay=_b7.toggleDisplay||c.toggleDisplay||_b8.toggleDisplay;this.watchDelay=_b7.watchDelay||c.watchDelay||_b8.watchDelay;this.hMargin=_b7.hMargin||c.hMargin||_b8.hMargin;this.vMargin=_b7.vMargin||c.vMargin||_b8.vMargin;this.removeOnHide=_b7.removeOnHide||c.removeOnHide||_b8.removeOnHide;this.x=c.x;this.y=c.y;this.posAnchor=_b7.posAnchor||this.triggerNode;this._setDisplayConfig(this.displayConfig);this._setHideConfig(this.hideConfig);fmr.rct.ui.DisplayObject._displayObjects[this.displayNode.id]=this;fmr.rct.ui.DisplayObject._displayObjects[this.triggerNode.id]=this;if(this.toggleDisplay){dojo.connect(this.triggerNode,"onclick",this,"toggle");}else{for(i=0;i<this.triggerEvents.length;i++){if(this.watchDelay&&this.triggerEvents[i]=="onmouseover"){dojo.connect(this.triggerNode,this.triggerEvents[i],this,function(){setTimeout("fmr.rct.ui.DisplayObject.getDisplayObject('"+this.triggerNode.id+"').display(null,null,true)",this.watchDelay);});}else{dojo.connect(this.triggerNode,this.triggerEvents[i],this,"display");}}for(i=0;i<this.hideEvents.length;i++){dojo.connect(this.triggerNode,this.hideEvents[i],this,"hide");}dojo.connect(this.displayNode,"onmouseenter",this,"display");}},markupFactory:function(_bc,_bd){if(!_bc.displayNode){_bc.displayNode=_bd;}return new fmr.rct.ui.DisplayObject(_bc);},getDisplayOrientation:function(){return this.displayOrientation;},setDisplayOrientation:function(_be){this.displayOrientation=_be;},getDisplayConfig:function(){return this.displayConfig;},setDisplayConfig:function(_bf){this.displayConfig=_bf;this._setDisplayConfig(this.displayConfig);},getHideConfig:function(){return this.hideConfig;},setHideConfig:function(_c0){this.hideConfig=_c0;this._setHideConfig(this.displayConfig);},getWatchDelay:function(){return this.watchDelay;},setWatchDelay:function(_c1){this.watchDelay=_c1;},toggle:function(_c2,_c3){this._isDisplayed?this.hide(_c2,_c3):this.display(_c2,_c3);},display:function(_c4,_c5,_c6){if(this._opacity==100){return;}if((this._displayAnimation&&this._displayAnimation.status()=="playing")){return;}if(typeof (_c6)!="undefined"&&_c6!=null&&_c6==true){if(fmr.rct.ui.DisplayObject.lastDisplayed!=null&&fmr.rct.ui.DisplayObject.lastFocus!=this.triggerNode&&!dojo.isDescendant(fmr.rct.ui.DisplayObject.lastFocus,fmr.rct.ui.DisplayObject.lastDisplayed.displayNode)&&fmr.rct.ui.DisplayObject.lastFocus!=this.displayNode){return;}}if(this._hideAnimation&&this._hideAnimation.stop){this._hideAnimation.stop();}if(this.removeOnHide){this.displayNode.style.display="block";}if(_c5){this.position(_c5.x||_c5.displayOrientation,_c5.y||_c5.forcedPosition);}else{this.position();}this._displayAnimation=null;this._displayAnimation=(_c5)?dojo.animateProperty(_c5):dojo.animateProperty(this.displayConfig);this._displayAnimation.controlObject=this;if(fmr.rct.ui.DisplayObject.singleDisplay&&fmr.rct.ui.DisplayObject.lastDisplayed){this._previousDisplayed=fmr.rct.ui.DisplayObject.lastDisplayed;}this._displayAnimation.play();fmr.rct.ui.DisplayObject.lastDisplayed=this;},onPreDisplay:function(_c7,_c8,_c9){},onDisplay:function(){},prePosition:function(){},position:function(x,y){if(!x&&!y&&this.x&&this.y){x=this.x;y=this.y;}if((this._displayAnimation&&this._displayAnimation.status()=="playing")){return;}this.prePosition();var _cc=0,_cd=0;if(typeof (window.pageYOffset)=="number"){_cd=window.pageYOffset;_cc=window.pageXOffset;}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){_cd=document.body.scrollTop;_cc=document.body.scrollLeft;}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){_cd=document.documentElement.scrollTop;_cc=document.documentElement.scrollLeft;}}}var _ce=null;var doc=dojo.doc;var _d0=dojo.isIE?document.body.offsetWidth:window.outerWidth;var _d1=dojo.isIE?document.body.offsetHeight:window.innerHeight;var _d2=dojo.coords(this.displayNode);var _d3=dojo.coords(this.triggerNode);var _d4=dojo.style(doc.documentElement,"height");var _d5=dojo.style(doc.documentElement,"width");var _d6,_d7,_d8,_d9;if(dojo.isIE){_d0=_d5;_d1=_d4;}var _da=(x!=null&&x!=""&&isNaN(x));var _db=_da?x:this.displayOrientation;var _dc=(!this.forcedPosition&&y!=true&&isNaN(x));var _dd=comp_top=null;this._displayTries++;if(this._displayTries>13||_d2.h>_d1||_d2.w>_d0){_db=fmr.rct.ui.DisplayObject.ORIENTATION_DEFAULT;}if((x&&!isNaN(x))&&y){this.displayNode.style.left=x+"px";this.displayNode.style.top=y+"px";this._displayTries=0;return;}else{var _de=0;var _df=0;var _e0=0;var _e1=0;_d6=(_db==fmr.rct.ui.DisplayObject.MODE_LEFT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_LEFT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE||_db==fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW);_d7=(_db==fmr.rct.ui.DisplayObject.MODE_RIGHT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE||_db==fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW);_d9=(_db==fmr.rct.ui.DisplayObject.MODE_ABOVE||_db==fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE||_db==fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_LEFT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT);_d8=(_db==fmr.rct.ui.DisplayObject.MODE_BELOW||_db==fmr.rct.ui.DisplayObject.ORIENTATION_BELOW||_db==fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_LEFT||_db==fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT);if(_d6||_d7){_de=_d3.y-(_d2.h/2)+_cd;if(_d6){_e0=_d3.x-_d2.w;}else{_e1=_d3.x+_d3.w+_d2.w;}}if(_d9){_de=_d3.y-_d2.h+(this.vMargin+_cd);}if(_d8){_de=_d3.y+(_d3.h+this.vMargin)+_cd;}_df=_de+_d2.h;switch(_db){case fmr.rct.ui.DisplayObject.MODE_RIGHT:return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);break;case fmr.rct.ui.DisplayObject.MODE_LEFT:return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);break;case fmr.rct.ui.DisplayObject.MODE_ABOVE:return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);break;case fmr.rct.ui.DisplayObject.MODE_BELOW:return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);break;case fmr.rct.ui.DisplayObject.ORIENTATION_DEFAULT:_e0=parseInt(_d3.x)+parseInt(_d3.w)+parseInt(this.hMargin);_de=parseInt(_d3.y)-parseInt(_d2.h/2);_db=this.configObject.displayMode||this.configObject.displayOrientation||this.displayMode||this.displayOrientation;switch(_db){case fmr.rct.ui.DisplayObject.MODE_RIGHT:_db=fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT;break;case fmr.rct.ui.DisplayObject.MODE_LEFT:_db=fmr.rct.ui.DisplayObject.ORIENTATION_LEFT;break;case fmr.rct.ui.DisplayObject.MODE_ABOVE:_db=fmr.rct.ui.DisplayObject.ORIENTATION_ABOVET;break;case fmr.rct.ui.DisplayObject.MODE_BELOW:_db=fmr.rct.ui.DisplayObject.ORIENTATION_BELOWT;break;}this._displayTries=0;break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}_e0=(_d3.x+_d3.w/2)-(_d2.w/2)+this.hMargin;_e1=_e0+_d2.w;_de=_d3.y-(_d2.h+this.vMargin);if(!_dc){break;}this._addPositionAttempt(_db);if(_e1>_d0){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_LEFT);}if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT);}if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}_e0=parseInt(_d3.x)+parseInt(_d3.w)+parseInt(this.hMargin);_de=parseInt(_d3.y)-parseInt(_d2.h/2);_df=_de+parseInt(_d2.h);_e1=_e0+parseInt(_d2.w);if(!_dc){break;}this._addPositionAttempt(_db);if(_de<1&&!this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW)){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW);}if(_df>_d1&&!this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE)){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE);}if(_e1>_d0&&!this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT)){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);}_de=parseInt(_d3.y)+(parseInt(_d3.h)+parseInt(this.vMargin));_df=_de+parseInt(_d2.h);_e0=(parseInt(_d3.x)+parseInt(_d3.w/2))-parseInt(_d2.w/2)+parseInt(this.hMargin);_e1=_e0+_d2.w;if(!_dc){break;}this._addPositionAttempt(_db);if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT);}if(_e1>_d0){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_LEFT);}if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}_e0=parseInt(_d3.x)-parseInt(_d2.w)-parseInt(this.hMargin);_de=(parseInt(_d3.y)+_d3.h/2)-parseInt(_d2.h/2);_df=_de+_d2.h;_e1=_e0+_d2.w;if(!_dc){break;}this._addPositionAttempt(_db);if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE);}if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW);}if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE);}_de=(parseInt(_d3.y)+parseInt(_d3.h))-(parseInt(_d2.h)+parseInt(this.vMargin));_df=_e0+parseInt(_d2.h);_e0=_d3.x-(parseInt(_d2.w)+this.vMargin);if(!_dc){break;}this._addPositionAttempt(_db);if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW);}if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE);}_de=parseInt(_d3.y);_e0=parseInt(_d3.x)-(parseInt(_d2.w)+this.vMargin);_df=_de+parseInt(_d2.h);if(!_dc){break;}this._addPositionAttempt(_db);if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW);}_e0=parseInt(_d3.x)+parseInt(_d3.w)+this.hMargin;_de=parseInt(_d3.y)+parseInt(_d3.h)-(parseInt(_d2.h)+this.vMargin);_df=_de+parseInt(_d2.h);_e1=_e0+_d2.w;if(!_dc){break;}this._addPositionAttempt(_db);if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW);}if(_e1>_d0){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}_de=parseInt(_d3.y);_e0=parseInt(_d3.x)+parseInt(_d3.w)+parseInt(this.hMargin);_df=_de+parseInt(_d2.h);_e1=_e0+parseInt(_d2.w);if(!_dc){break;}this._addPositionAttempt(_db);if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);}if(_e1>_d0||_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_LEFT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_LEFT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);}_e0=(_d3.x+_d3.w/2)-_d2.w;_de=_d3.y-_d2.h;_e1=_e0+_d2.w;_df=_de+_d2.h;if(!_dc){break;}this._addPositionAttempt(_db);if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT);}if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}_e0=(_d3.x+_d3.w/2);_de=_d3.y-_d2.h-this.vMargin;_e1=_e0+_d2.w;if(!_dc){break;}this._addPositionAttempt(_db);if(_e1>_d0){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}if(_de<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_LEFT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_LEFT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);}_e0=(_d3.x+_d3.w/2)-_d2.w;_de=_d3.y+_d3.h+this.vMargin;_e1=_e0+_d2.w;_df=_de+_d2.h;if(!_dc){break;}this._addPositionAttempt(_db);if(_e0<1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT);}if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE);}break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT:if(this._isPreviouslyAttempted(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT)&&_dc){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}_e0=(_d3.x+_d3.w/2);_de=_d3.y+_d3.h+this.vMargin;_e1=_e0+_d2.w;_df=_de+_d2.h;if(!_dc){break;}this._addPositionAttempt(_db);if(_e1>_d0){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_BELOW);}if(_df>_d1){return this.position(fmr.rct.ui.DisplayObject.ORIENTATION_LEFT);}break;}}this.displayOrientation=_db;var _e2=dojo.isIE;_e0+=_cc;_de+=_cd;this._displayTries=0;this.displayNode.style.left=_e0+"px";this.displayNode.style.top=_de+"px";this._displayCoords=dojo.coords(this.displayNode);this._displayCoords.x+=_cc;this._displayCoords.y+=_cd;this._triggerCoords=dojo.coords(this.triggerNode);this._triggerCoords.x+=_cc;this._triggerCoords.y+=_cd;this._attempted="";this._displayTries=0;},onPreHide:function(_e3,_e4){},hide:function(_e5,_e6){if(this._hideAnimation&&this._hideAnimation.status()=="playing"){return;}if(fmr.rct.ui.DisplayObject.lastDisplayed==this&&fmr.rct.ui.DisplayObject.lastFocus==this.triggerNode&&this._opacity==100){return;}if(this._displayAnimation&&this._displayAnimation.status()=="playing"){return;}this._hideAnimation=(_e6)?dojo.animateProperty(_e6):dojo.animateProperty(this.hideConfig);this._hideAnimation.controlObject=this;this._hideAnimation.play();},onHide:function(){this._isDisplayed=false;},_isPreviouslyAttempted:function(_e7){return this._attempted.indexOf(this._delim+_e7+this._delim)!=-1;},_addPositionAttempt:function(pos){if(this._attempted==null){this._attempted="";}this._attempted+=this._delim+pos+this._delim;},_updateDisplayStatus:function(obj){if(obj&&this.controlObject){this.controlObject._opacity=obj.opacity;}},_setDisplayConfig:function(_ea){this.displayConfig=(_ea.duration)?_ea:(_ea.displayConfig)?_ea.displayConfig:fmr.rct.ui.DisplayObject.DEFAULT_CONFIG.displayConfig;if(!this.displayConfig.duration){this.displayConfig.duration=fmr.rct.ui.DisplayObject.DEFAULT_CONFIG.displayConfig.duration;}this.displayConfig.node=this.displayNode;this.displayConfig.onAnimate=this._updateDisplayStatus;this.displayConfig.onEnd=function(){this.controlObject.onDisplay();this.controlObject._isDisplayed=true;fmr.rct.ui.DisplayObject.displayedObjects[this.controlObject]=true;};this.displayConfig.onBegin=function(){this.controlObject.onPreDisplay();};this._hideAnimation=dojo.animateProperty(this.hideConfig);},_setHideConfig:function(_eb){this.hideConfig=(_eb.duration)?_eb:(_eb.hideConfig)?_eb.hideConfig:fmr.rct.ui.DisplayObject.DEFAULT_CONFIG.hideConfig;if(!this.hideConfig.duration){this.hideConfig.duration=fmr.rct.ui.DisplayObject.DEFAULT_CONFIG.hideConfig.duration;}this.hideConfig.node=this.displayNode;this.hideConfig.onAnimate=this._updateDisplayStatus;this.hideConfig.onEnd=function(){this.controlObject.onHide();this.controlObject.displayNode.style.left="-30000px";if(this.controlObject.removeOnHide){this.controlObject.displayNode.style.display="none";}this.controlObject._isDisplayed=false;fmr.rct.ui.DisplayObject.displayedObjects.splice(this.controlObject);};this.displayConfig.onBegin=function(){this.controlObject.onPreHide();};this._displayAnimation=dojo.animateProperty(this.displayConfig);}});dojo.mixin(fmr.rct.ui.DisplayObject,{ORIENTATION_LEFT:"OL",MODE_LEFT:"ML",ORIENTATION_RIGHT:"OR",MODE_RIGHT:"MR",ORIENTATION_ABOVE:"OA",MODE_ABOVE:"MA",ORIENTATION_BELOW:"OB",MODE_BELOW:"MB",ORIENTATION_ABOVE_LEFT:"OAL",ORIENTATION_ABOVE_RIGHT:"OAR",ORIENTATION_LEFT_ABOVE:"OLA",ORIENTATION_LEFT_BELOW:"OLB",ORIENTATION_RIGHT_ABOVE:"ORA",ORIENTATION_RIGHT_BELOW:"ORB",ORIENTATION_BELOW_LEFT:"OBL",ORIENTATION_BELOW_RIGHT:"OBR",ORIENTATION_DEFAULT:"DEF",getDisplayObject:function(id){var x=fmr.rct.ui.DisplayObject._displayObjects[id];return x;},removeDisplayObject:function(id){fmr.rct.ui.DisplayObject._displayObjects[id]=null;},showDisplayObject:function(id){this.getDisplayObject(id).display();},hideDisplayObject:function(id){this.getDisplayObject(id).hide();},_displayObjects:new Array,lastFocus:null,lastDisplayed:null,watchDocumentMouseMovement:function(_f1){var _f2=dojo.fixEvent(_f1);fmr.rct.ui.DisplayObject.lastFocus=_f2.target;if(fmr.rct.ui.DisplayObject.lastFocus.tagName&&fmr.rct.ui.DisplayObject.lastFocus.tagName.toLowerCase()=="html"){if(fmr.rct.ui.DisplayObject.lastDisplayed&&!fmr.rct.ui.DisplayObject.lastDisplayed.toggleDisplay){fmr.rct.ui.DisplayObject.lastDisplayed.hide();}return;}if(fmr.rct.ui.DisplayObject.lastDisplayed&&fmr.rct.ui.DisplayObject.lastDisplayed._isDisplayed&&!fmr.rct.ui.DisplayObject.lastDisplayed.toggleDisplay&&!dojo.isDescendant(fmr.rct.ui.DisplayObject.lastFocus,fmr.rct.ui.DisplayObject.lastDisplayed.displayNode)&&(fmr.rct.ui.DisplayObject.lastDisplayed.triggerNode!=fmr.rct.ui.DisplayObject.lastFocus)){fmr.rct.ui.DisplayObject.lastDisplayed.hide(_f1);return;}},watchExternalLinks:function(_f3){dojo.forEach(dojo.query("body"),function(_f4){dojo.connect(_f4,"onfocus",null,function(_f5){var x=dojo.fixEvent(_f5).target;if(x==null){return;}if(dojo.hasClass(x,_f3||"BubbleLink")){return;}if(fmr.rct.ui.DisplayObject.lastDisplayed&&fmr.rct.ui.DisplayObject.lastDisplayed._isDisplayed&&!fmr.rct.ui.DisplayObject.lastDisplayed.toggleDisplay&&!dojo.isDescendant(fmr.rct.ui.DisplayObject.lastFocus,fmr.rct.ui.DisplayObject.lastDisplayed.displayNode)&&(fmr.rct.ui.DisplayObject.lastDisplayed.triggerNode!=fmr.rct.ui.DisplayObject.lastFocus)){fmr.rct.ui.DisplayObject.lastDisplayed.hide(_f5);return;}});});},monitorDocumentEvents:function(){dojo.connect(dojo.doc,"onmousemove",fmr.rct.ui.DisplayObject,"watchDocumentMouseMovement");dojo.connect(window,"onblur",null,function(){if(fmr.rct.ui.DisplayObject.lastDisplayed&&!fmr.rct.ui.DisplayObject.lastDisplayed.toggleDisplay){fmr.rct.ui.DisplayObject.lastDisplayed.hide();}});fmr.rct.ui.DisplayObject.watchExternalLinks();}});dojo.mixin(fmr.rct.ui.DisplayObject,{singleDisplay:true,displayedObjects:new Array(),DEFAULT_CONFIG:{displayOrientation:fmr.rct.ui.DisplayObject.ORIENTATION_BELOW,forcedPosition:false,hideConfig:{duration:1000,properties:{opacity:{end:0}}},displayConfig:{duration:1000,properties:{opacity:{end:100}}},hMargin:0,vMargin:0,triggerEvents:"onmouseenter,onfocus",hideEvents:"onmouseout",removeOnHide:true}});dojo.addOnLoad(function(){fmr.rct.ui.DisplayObject.monitorDocumentEvents();});}if(!dojo._hasResource["fmr.rct.ui.Bubble"]){dojo._hasResource["fmr.rct.ui.Bubble"]=true;dojo.provide("fmr.rct.ui.Bubble");dojo.declare("fmr.rct.ui.Bubble",fmr.rct.ui.DisplayObject,{_leftArrow:null,_topArrow:null,_bottomArrow:null,_rightArrow:null,constructor:function(_f7){this._initResources();},_initResources:function(){this._topArrow=dojo.query(".ofTopArrow",this.displayNode)[0];if(this._topArrow){this._topArrowHeight=dojo.coords(this._topArrow).h;}this._leftArrow=dojo.query(".ofLeftArrow",this.displayNode)[0];if(this._leftArrow){this._leftArrowHeight=dojo.coords(this._leftArrow).h;}this._rightArrow=dojo.query(".ofRightArrow",this.displayNode)[0];if(this._rightArrow){this._rightArrowHeight=dojo.coords(this._rightArrow).h;}this._bottomArrow=dojo.query(".ofBottomArrow",this.displayNode)[0];if(this._bottomArrow){this._bottomArrowHeight=dojo.coords(this._bottomArrow).h;}this._hideArrows();},markupFactory:function(_f8,_f9){if(!_f8.displayNode){_f8.displayNode=_f9;}return new fmr.rct.ui.Bubble(_f8);},_hideArrows:function(_fa){dojo.style(this._topArrow,"left",0);dojo.style(this._leftArrow,"top",0);dojo.style(this._rightArrow,"top",0);dojo.style(this._bottomArrow,"left",0);if(this._topArrow&&_fa!=this._topArrow){dojo.style(this._topArrow,"display","none");}if(this._leftArrow&&_fa!=this._leftArrow){dojo.style(this._leftArrow,"display","none");}if(this._rightArrow&&_fa!=this._rightArrow){dojo.style(this._rightArrow,"display","none");}if(this._bottomArrow&&_fa!=this._bottomArrow){dojo.style(this._bottomArrow,"display","none");}},position:function(){this.inherited(arguments);this._hideArrows();var _fb=dojo.coords(dojo.query(".bubbleRightColumn",this.displayNode)[0]).w;var _fc=dojo.coords(dojo.query(".bubbleTopColumn",this.displayNode)[0]).h;var _fd=dojo.coords(this._leftArrow);var _fe=dojo.coords(this._topArrow);var _ff,_100;switch(this.displayOrientation){case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT:this._rightArrow.style.display="block";this._rightArrow.style.top=(this._displayCoords.h/2-_fc*2)+(this._triggerCoords.h/2)+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT:this._leftArrow.style.display="block";this._leftArrow.style.top=(this._displayCoords.h/2-_fc*2)+(this._triggerCoords.h/2)+"px";this.displayNode.style.top=this._displayCoords.y+_fc+-((this._triggerCoords.h/2))+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE:this._bottomArrow.style.display="block";this._bottomArrow.style.left=this._displayCoords.w/2-_fb+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW:this._topArrow.style.display="block";this._topArrow.style.left=this._displayCoords.w/2-_fb+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_LEFT:this._bottomArrow.style.display="block";this._bottomArrow.style.left=(this._displayCoords.w-(_fb*2))-3+"px";this.displayNode.style.left=this._displayCoords.x+_fb+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_ABOVE_RIGHT:this._bottomArrow.style.display="block";this._bottomArrow.style.left=_fb+(dojo.isIE?11:4)+"px";this.displayNode.style.left=(this._displayCoords.x-_fb)+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_ABOVE:this._rightArrow.style.display="block";this._rightArrow.style.top=(this._displayCoords.h-_fc*3-1)+"px";this.displayNode.style.top=this._displayCoords.t+_fc+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_LEFT_BELOW:this._rightArrow.style.display="block";this._rightArrow.style.top="1px";this.displayNode.style.top=this._triggerCoords.y-_fc+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_ABOVE:this._leftArrow.style.display="block";this._leftArrow.style.top=this._displayCoords.h-(_fc*3)-2+"px";this.displayNode.style.top=this._displayCoords.t+_fc+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_RIGHT_BELOW:this._leftArrow.style.display="block";this._leftArrow.style.position="relative";this._leftArrow.style.top="1px";this.displayNode.style.top=this._displayCoords.y-_fc+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_LEFT:this._topArrow.style.display="block";this._topArrow.style.left=this._displayCoords.w-_fb*2-3+"px";this.displayNode.style.left=this._displayCoords.x+_fb+"px";break;case fmr.rct.ui.DisplayObject.ORIENTATION_BELOW_RIGHT:this._topArrow.style.display="block";this.displayNode.style.left=this._displayCoords.x-_fb*2+"px";this._topArrow.style.left=_fb+(dojo.isIE?11:4)+"px";break;}return;}});}if(!dojo._hasResource["fmr.rct.ui.FlyoutManager"]){dojo._hasResource["fmr.rct.ui.FlyoutManager"]=true;dojo.provide("fmr.rct.ui.FlyoutManager");dojo.declare("fmr.rct.ui.FlyoutManager",null,{constructor:function(_101){this._flyouts=[];dojo.connect(document,"onclick",this,"closeAll");},createFlyoutFromNode:function(_102){_102.managerRef=this;this._flyouts.push(new fmr.rct.ui.Flyout(_102));},createProgrammaticFlyout:function(_103){},removeFlyout:function(_104){},closeAll:function(){dojo.forEach(this._flyouts,function(fly){fly.close();});}});dojo.provide("fmr.rct.ui.Flyout");dojo.declare("fmr.rct.ui.Flyout",null,{constructor:function(_106){this._node=_106.node;this._trigger=_106.trigger;this._managerRef=_106.managerRef;this._type=_106.type||"normal";this._isOpen=false;this.mouseIn=false;this._shift=false;this._triggerFlyout=_106.triggerFlyout||null;this._onOpen=_106.onOpen||null;this._onClose=_106.onClose||null;this._nodeTop=null;this._query="div#"+this._node.id+" > ul > li";if(this._type=="normal"){this._nList=dojo.query(this._query,this._node.parent);}else{this._nList=dojo.query("li",this._node);}var m=this;this._targets=dojo.map(this._nList,function(itm,idx){var _10a=dojo.query("a",itm);var _10b="link";if(dojo.hasClass(itm,"ofHasChild")){_10b="subMenu";}return new fmr.rct.ui.FlyoutTarget({"id":idx,"node":itm,"link":_10a[0],"type":_10b,"managerRef":m._managerRef,"flyout":m});},m);this._cursor=-1;dojo.connect(this._trigger,"onclick",this,"toggle");dojo.connect(this._trigger,"onkeypress",this,"handleKeys");dojo.connect(this._node,"onkeypress",this,"handleKeys");if(this.isSubMenu()){dojo.connect(this._trigger,"onmouseover",this,"open");this._triggerFlyout.setSubMenu(m);}},isSubMenu:function(){if(this._type=="submenu"){return true;}return false;},navigateUp:function(){if(this._cursor>0){this._targets[this._cursor].deSelect();this._cursor--;this._targets[this._cursor].select();}else{this.setCursor(this._targets.length-1);this._targets[this._cursor].select();}},navigateDown:function(){if(this._cursor<this._targets.length-1){this._cursor++;this._targets[this._cursor].select();}else{this.setCursor(0);this._targets[0].select();}},handleKeys:function(evt){switch(evt.keyCode){case 38:this.navigateUp();dojo.stopEvent(evt);break;case 9:var _10d=false;if(this._cursor!=-1&&this._targets[this._cursor]._subMenu){if(this._targets[this._cursor]._subMenu.getIsOpen()){_10d=true;}}if(this.getIsOpen()){if(evt.shiftKey){if(this._cursor<=0){this.close();this._trigger.focus();}}else{if(_10d){this._targets[this._cursor]._subMenu._targets[0].select();this._targets[this._cursor]._subMenu.setCursor(0);dojo.stopEvent(evt);}else{if(this._cursor<this._targets.length-1){this.navigateDown();dojo.stopEvent(evt);}else{this.close();}}}}break;case 40:this.navigateDown();dojo.stopEvent(evt);break;case 13:if(this._cursor==-1&&!this.isSubMenu()){this.toggle();dojo.stopEvent(evt);}break;case 27:this._managerRef.closeAll();break;}},getCursor:function(){return this._cursor;},setCursor:function(val){this._cursor=val;},close:function(){dojo.addClass(this._node,"ofHidden");dojo.style(this._node,{});dojo.forEach(this._targets,function(tar){tar.deSelect();});this._cursor=-1;this._isOpen=false;if(this._onClose){this._onClose();}},getWindowSize:function(){var _110=0,_111=0;if(typeof (window.innerWidth)=="number"){_110=window.innerWidth;_111=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_110=document.documentElement.clientWidth;_111=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_110=document.body.clientWidth;_111=document.body.clientHeight;}}}var _112={"width":_110,"height":_111};return _112;},open:function(){if(!this.isSubMenu()){this._managerRef.closeAll();}dojo.removeClass(this._node,"ofHidden");var _113=0,_114=0;if(typeof (window.pageYOffset)=="number"){_114=window.pageYOffset;_113=window.pageXOffset;}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){_114=document.body.scrollTop;_113=document.body.scrollLeft;}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){_114=document.documentElement.scrollTop;_113=document.documentElement.scrollLeft;}}}var _115=null;var doc=dojo.doc;var _117=dojo.isIE?document.body.offsetWidth:window.outerWidth;var _118=dojo.isIE?document.body.offsetHeight:window.innerHeight;var _119=dojo.coords(this._node);var _11a=dojo.coords(this._trigger);var _11b=dojo.style(doc.documentElement,"height");var _11c=dojo.style(doc.documentElement,"width");if(dojo.isIE){_117=_11c;_118=_11b;}var _11d=0;var _11e=0;var _11f=0;var _120=0;if(!this.isSubMenu()){_11d=parseInt(_11a.y);_11e=_11d+parseInt(_119.h);_11f=parseInt(_11a.x);_120=_11f+_119.w;if(_11e>_118){if(_11a.y-(_119.h)>0){_11d=_11a.y-(_119.h);}}_11f+=_113;_11d+=_114;this._node.style.left=_11f+"px";this._node.style.top=_11d+"px";}else{_11f=parseInt(_11a.x)+parseInt(_11a.w);_11d=parseInt(_119.y);_11e=_11d+parseInt(_119.h);_120=_11f+parseInt(_119.w);if(_120>_117){_11f=(_119.w*-1)+3;}else{_11f=_119.w-5;}this._node.style.left=_11f+"px";if(dojo.isIE){var y=0;if(this._nodeTop){y=this._nodeTop;}else{this._nodeTop=this._node.offsetTop-_11a.h;y=this._nodeTop;}this._node.style.top=y+"px";}else{this._node.style.top=this._trigger.offsetTop+"px";}}this._isOpen=true;if(this._onOpen){this._onOpen();}},getIsOpen:function(){return this._isOpen;},toggle:function(evt){try{dojo.stopEvent(evt);}catch(err){}if(this.getIsOpen()){this.close();}else{this.open();}},deSelectAll:function(){dojo.forEach(this._targets,function(tgt){tgt.deSelect();});}});dojo.provide("fmr.rct.ui.FlyoutTarget");dojo.declare("fmr.rct.ui.FlyoutTarget",null,{constructor:function(_124){this._type=_124.type||"link";this._node=_124.node;this._status=_124.status||null;this._link=_124.link||null;this._id=_124.id;this._managerRef=_124.managerRef;this._flyout=_124.flyout;this._subMenu=null;this.initSubs();dojo.connect(this._node,"onmouseover",this,"mouseSelect");dojo.connect(this._node,"onmouseout",this,"mouseDeSelect");dojo.connect(this._link,"onkeypress",this,"handleKeys");dojo.connect(this._link,"onkeypress",this._flyout,"handleKeys");dojo.connect(this._link,"onfocus",this,"setCursor");},setCursor:function(){this._flyout.setCursor(this._id);},handleKeys:function(evt){switch(evt.keyCode){case 39:if(this._subMenu){this._subMenu.open();this._subMenu._targets[0].select();this._subMenu.setCursor(0);}break;case 37:if(this._flyout.isSubMenu()){this.deSelect();this._flyout.setCursor(-1);this._flyout._triggerFlyout.select();this._flyout.close();}break;case 13:if(this._subMenu){this._subMenu.toggle(evt);}}},initSubs:function(){if(this._type=="subMenu"){var _126=dojo.query("ul",this._node);this._managerRef.createFlyoutFromNode({"node":_126[0],"trigger":this._link,"type":"submenu","triggerFlyout":this});}},mouseDeSelect:function(evt){this._flyout.setCursor(-1);this._link.blur();if(this._flyout.isSubMenu()){dojo.stopEvent(evt);}this.deSelect();},deSelect:function(){dojo.removeClass(this._link,"ofSelected");if(this._subMenu){if(this._subMenu.getIsOpen()){this._subMenu.close();}}},setSubMenu:function(obj){this._subMenu=obj;},mouseSelect:function(){this._flyout.setCursor(this._id);this.select();if(this._subMenu){this._subMenu.open();}},select:function(){this._flyout.deSelectAll();dojo.addClass(this._link,"ofSelected");try{this._link.focus();}catch(err){}}});}if(!dojo._hasResource["dojo.io.script"]){dojo._hasResource["dojo.io.script"]=true;dojo.provide("dojo.io.script");dojo.io.script={get:function(args){var dfd=this._makeScriptDeferred(args);var _12b=dfd.ioArgs;dojo._ioAddQueryToUrl(_12b);if(this._canAttach(_12b)){this.attach(_12b.id,_12b.url,args.frameDoc);}dojo._ioWatch(dfd,this._validCheck,this._ioCheck,this._resHandle);return dfd;},attach:function(id,url,_12e){var doc=(_12e||dojo.doc);var _130=doc.createElement("script");_130.type="text/javascript";_130.src=url;_130.id=id;_130.charset="utf-8";doc.getElementsByTagName("head")[0].appendChild(_130);},remove:function(id,_132){dojo.destroy(dojo.byId(id,_132));if(this["jsonp_"+id]){delete this["jsonp_"+id];}},_makeScriptDeferred:function(args){var dfd=dojo._ioSetArgs(args,this._deferredCancel,this._deferredOk,this._deferredError);var _135=dfd.ioArgs;_135.id=dojo._scopeName+"IoScript"+(this._counter++);_135.canDelete=false;if(args.callbackParamName){_135.query=_135.query||"";if(_135.query.length>0){_135.query+="&";}_135.query+=args.callbackParamName+"="+(args.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+_135.id+"._jsonpCallback";_135.frameDoc=args.frameDoc;_135.canDelete=true;dfd._jsonpCallback=this._jsonpCallback;this["jsonp_"+_135.id]=dfd;}return dfd;},_deferredCancel:function(dfd){dfd.canceled=true;if(dfd.ioArgs.canDelete){dojo.io.script._addDeadScript(dfd.ioArgs);}},_deferredOk:function(dfd){if(dfd.ioArgs.canDelete){dojo.io.script._addDeadScript(dfd.ioArgs);}if(dfd.ioArgs.json){return dfd.ioArgs.json;}else{return dfd.ioArgs;}},_deferredError:function(_138,dfd){if(dfd.ioArgs.canDelete){if(_138.dojoType=="timeout"){dojo.io.script.remove(dfd.ioArgs.id,dfd.ioArgs.frameDoc);}else{dojo.io.script._addDeadScript(dfd.ioArgs);}}console.log("dojo.io.script error",_138);return _138;},_deadScripts:[],_counter:1,_addDeadScript:function(_13a){dojo.io.script._deadScripts.push({id:_13a.id,frameDoc:_13a.frameDoc});_13a.frameDoc=null;},_validCheck:function(dfd){var _13c=dojo.io.script;var _13d=_13c._deadScripts;if(_13d&&_13d.length>0){for(var i=0;i<_13d.length;i++){_13c.remove(_13d[i].id,_13d[i].frameDoc);_13d[i].frameDoc=null;}dojo.io.script._deadScripts=[];}return true;},_ioCheck:function(dfd){if(dfd.ioArgs.json){return true;}var _140=dfd.ioArgs.args.checkString;if(_140&&eval("typeof("+_140+") != 'undefined'")){return true;}return false;},_resHandle:function(dfd){if(dojo.io.script._ioCheck(dfd)){dfd.callback(dfd);}else{dfd.errback(new Error("inconceivable dojo.io.script._resHandle error"));}},_canAttach:function(_142){return true;},_jsonpCallback:function(json){this.ioArgs.json=json;}};}if(!dojo._hasResource["dojox.timing._base"]){dojo._hasResource["dojox.timing._base"]=true;dojo.provide("dojox.timing._base");dojo.experimental("dojox.timing");dojox.timing.Timer=function(_144){this.timer=null;this.isRunning=false;this.interval=_144;this.onStart=null;this.onStop=null;};dojo.extend(dojox.timing.Timer,{onTick:function(){},setInterval:function(_145){if(this.isRunning){window.clearInterval(this.timer);}this.interval=_145;if(this.isRunning){this.timer=window.setInterval(dojo.hitch(this,"onTick"),this.interval);}},start:function(){if(typeof this.onStart=="function"){this.onStart();}this.isRunning=true;this.timer=window.setInterval(dojo.hitch(this,"onTick"),this.interval);},stop:function(){if(typeof this.onStop=="function"){this.onStop();}this.isRunning=false;window.clearInterval(this.timer);}});}if(!dojo._hasResource["fmr.rct.core"]){dojo._hasResource["fmr.rct.core"]=true;dojo.provide("fmr.rct.core");dojo.declare("fmr.rct.Container",null,{constructor:function(){if(fmr.rct.Container.caller!=fmr.rct.Container.getInstance){throw new Error("There is no public constructor for fmr.rct.Container.");}},__provider:new Array(),addProvider:function(_146){if(!_146.ProviderName){throw new Error("Provider name missing!");}if(this.__provider[_146.ProviderName]){throw new Error("Provider "+_146.ProviderName+" exist!");}this.__provider[_146.ProviderName]=_146;},getProvider:function(_147){if(!_147){throw new Error("Provider/SPI names missing!");}var _inp=_147.split(".");if(_inp.length>2){throw new Error("Invalid provider request:  "+_147);}var _pro=this.__provider[_inp[0]];if(!_pro){throw new Error("No such provider:  "+_inp[0]);}if(_inp.length==1){return _pro;}else{return _pro.getServiceProvider(_inp[1]);}},removeProvider:function(_14a){if(_14a&&this.__provider[_14a]){delete this.__provider[_14a];}else{}},listProviders:function(){for(var _p in this.__provider){}}});fmr.rct.Container._instance=null;fmr.rct.Container.getInstance=function(){if(this._instance===null){this._instance=new fmr.rct.Container();}return this._instance;};}if(!dojo._hasResource["fmr.rct.provider"]){dojo._hasResource["fmr.rct.provider"]=true;dojo.provide("fmr.rct.provider");dojo.declare("fmr.rct.Provider",null,{constructor:function(_14c){this.ProviderName=_14c;},ProviderName:null,__provider:new Array(),addServiceProvider:function(_14d){if(!_14d.ServiceProviderName){throw new Error("SPI ("+this.ProviderName+") name missing!");}if(this.__provider[_14d.ServiceProviderName]){throw new Error("SPI ("+this.ProviderName+") exist ("+_14d.ServiceProviderName+")!");}this.__provider[_14d.ServiceProviderName]=_14d;},getServiceProvider:function(_14e){if(!_14e){throw new Error("SPI ("+this.ProviderName+") name missing!");}if(!this.__provider[_14e]){throw new Error("No such SPI:  "+_14e);}return this.__provider[_14e];},removeServiceProvider:function(_14f){if(_14f&&this.__provider[_14f]){delete this.__provider[_14f];}else{}},listServiceProviders:function(){for(var _p in this.__provider){}}});}if(!dojo._hasResource["fmr.rct.eventing"]){dojo._hasResource["fmr.rct.eventing"]=true;dojo.provide("fmr.rct.eventing");dojo.declare("fmr.rct.Eventing",null,{constructor:function(){if(fmr.rct.Eventing.caller!=fmr.rct.Eventing.getInstance){throw new Error("There is no public constructor for fmr.rct.eventing.Eventing.");}this._container=fmr.rct.Container.getInstance();},_providerName:"notset",setDefaultProvider:function(_inp){if(!_inp){throw new Error("Default provider name missing!");}this._providerName="eventing."+_inp;},getServiceProvider:function(_inp){if(!_inp){return this._container.getProvider(this._providerName);}else{return this._container.getProvider("eventing."+_inp);}}});fmr.rct.Eventing.ifParentExists=function(){try{if(parent){}if((parent.fmr!=null)&&(parent.fmr.rct!=null)&&(parent.fmr.rct.Eventing!=null)){return true;}else{return false;}}catch(err){return false;}};fmr.rct.Eventing._einst=null;fmr.rct.Eventing.getInstance=function(_spi){if(this._einst==null){if((this.ifParentExists())&&(parent.fmr.rct.Eventing!=fmr.rct.Eventing)){this._einst=parent.fmr.rct.Eventing._einst;}else{this._einst=new fmr.rct.Eventing();}}if(_spi=="init"){return this._einst;}else{return this._einst.getServiceProvider(_spi);}};fmr.rct.Eventing.bridgeSubscriberProxy=function(_154,_155,_156){return fmr.rct.Eventing.getInstance().subscribe(_154,fmr.rct.eventing,_156);};fmr.rct.Eventing.bridgeUnsubscriberProxy=function(_157){fmr.rct.Eventing.getInstance().unsubscribe(_157);};fmr.rct.Eventing.bridgePublisherProxy=function(e){var _159=e[0];var _15a=e.slice(1);if(fmr.rct.Eventing.getInstance()._providerName!="notset"){fmr.rct.Eventing.getInstance().publish(_159,_15a);}};}if(!dojo._hasResource["fmr.rct.eventing.dojoevent"]){dojo._hasResource["fmr.rct.eventing.dojoevent"]=true;dojo.provide("fmr.rct.eventing.dojoevent");dojo.declare("fmr.rct.eventing.DojoEventingImpl",null,{constructor:function(){},ServiceProviderName:"dojo",publish:function(_15b,_15c){if(arguments.length!=2){throw new Error("Invalid number of arguments.");}if(typeof (_15b)!="string"){throw new Error("Topic value must be string.");}dojo.publish(_15b,_15c);},subscribe:function(_15d,_15e,_15f){if(arguments.length!=3){throw new Error("Invalid number of arguments.");}if(typeof (_15e)!="object"){throw new Error("_targetObj value must be an object.");}if(typeof (_15f)!="string"){throw new Error("taretFunc value must be a string.");}return dojo.subscribe(_15d,_15e,_15f);},unsubscribe:function(_160){if(arguments.length!=1){throw new Error("Invalid number of arguments.");}dojo.unsubscribe(_160);}});}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_164,_165){var _166=[];function _167(attr,dir){return function(_16a,_16b){var a=_165.getValue(_16a,attr);var b=_165.getValue(_16b,attr);var _16e=null;if(_165.comparatorMap){if(typeof attr!=="string"){attr=_165.getIdentity(attr);}_16e=_165.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_16e=_16e||dojo.data.util.sorter.basicComparator;return dir*_16e(a,b);};};var _16f;for(var i=0;i<_164.length;i++){_16f=_164[i];if(_16f.attribute){var _171=(_16f.descending)?-1:1;_166.push(_167(_16f.attribute,_171));}}return function(rowA,rowB){var i=0;while(i<_166.length){var ret=_166[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_176){_176=_176||{};if(!_176.store){_176.store=this;}var self=this;var _178=function(_179,_17a){if(_17a.onError){var _17b=_17a.scope||dojo.global;_17a.onError.call(_17b,_179,_17a);}};var _17c=function(_17d,_17e){var _17f=_17e.abort||null;var _180=false;var _181=_17e.start?_17e.start:0;var _182=(_17e.count&&(_17e.count!==Infinity))?(_181+_17e.count):_17d.length;_17e.abort=function(){_180=true;if(_17f){_17f.call(_17e);}};var _183=_17e.scope||dojo.global;if(!_17e.store){_17e.store=self;}if(_17e.onBegin){_17e.onBegin.call(_183,_17d.length,_17e);}if(_17e.sort){_17d.sort(dojo.data.util.sorter.createSortFunction(_17e.sort,self));}if(_17e.onItem){for(var i=_181;(i<_17d.length)&&(i<_182);++i){var item=_17d[i];if(!_180){_17e.onItem.call(_183,item,_17e);}}}if(_17e.onComplete&&!_180){var _186=null;if(!_17e.onItem){_186=_17d.slice(_181,_182);}_17e.onComplete.call(_183,_186,_17e);}};this._fetchItems(_176,_17c,_178);return _176;};}if(!dojo._hasResource["fmr.rct.sal.data.SimpleJsonpStore"]){dojo._hasResource["fmr.rct.sal.data.SimpleJsonpStore"]=true;dojo.provide("fmr.rct.sal.data.SimpleJsonpStore");(function(){var d=dojo;dojo.declare("fmr.rct.sal.data.SimpleJsonpStore",null,{constructor:function(args){if(args&&args.label){this.label=args.label;}this._url=args.url;this._preventCache=args.preventCache||this.preventCache;this._dataRoot=args.dataRoot;this._label=args.label;this._identifier=args.identifier;this._oneTimeFetch=args.oneTimeFetch;this._attrs=args.attrs;this._searchAttr=args.searchAttr;this._oneTimeFetch=args.oneTimeFetch;if(args&&args.clientFilter){this._clientFilter=args.clientFilter;}},url:"",label:"",dataRoot:"",preventCache:false,identifier:"",useLocal:false,searchAttr:"",attrs:null,clientFilter:null,oneTimeFetch:false,_storeRef:"STORE_REF",_allItems:null,_oneTimeFetch:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("fmr.rct.sal.data.SimpleJsonpStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_18a){if(typeof _18a!=="string"){throw new Error("fmr.rct.sal.data.FidSymbolJsonpStore: a function was passed an attribute argument that was not an attribute name string");}},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getValue:function(item,_18c,_18d){var _18e=this.getValues(item,_18c);if(_18e&&(_18e instanceof Array)&&_18e.length>0){return _18e[0];}return _18e;},getAttributes:function(item){return this._attrs;},hasAttribute:function(item,_191){if(this.getValue(item,_191)){return true;}return false;},isItemLoaded:function(item){return this.isItem(item);},loadItem:function(_193){},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return this.label;},containsValue:function(item,_197,_198){var _199=this.getValues(item,_197);for(var i=0;i<_199.length;i++){if(_199[i]===_198){return true;}}return false;},getValues:function(item,_19c){this._assertIsItem(item);this._assertIsAttribute(_19c);return item[_19c];},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}else{return false;}},close:function(_19e){},getIdentity:function(item){return item[this._identifier];},getIdentityAttributes:function(item){return [this._identifier];throw new Error("Unimplemented API: dojo.data.api.Identity.getIdentityAttributes");return null;},fetchItemByIdentity:function(_1a1){var id=_1a1.item[this._identifier];return dojo.filter(this._allItems,function(item){return item[this._identifier]==id;},this)[0];},_clientFilter:function(data,_1a5){return data;},_fetchItems:function(_1a6,_1a7,_1a8){if(this._oneTimeFetch&&this._allItems){var _1a9=this._clientFilter(this._allItems,_1a6);_1a7(_1a9,_1a6);return _1a9;}var _1aa=null;var _1ab={url:this._url,preventCache:this._preventCache,content:_1a6.query};_1aa=d.connect(_1a6.query.callback,dojo.hitch(this,function(data){d.disconnect(_1aa);var _1ad=[];if(data[this._dataRoot]){_1ad=data[this._dataRoot];for(var i=0;i<_1ad.length;i++){var item=_1ad[i];item[this._storeRef]=this;item["label"]=item[this.label];if(this._searchAttr){item[this._searchAttr]=item[this._identifier];}}}this._allItems=_1ad;var _1b0=this._clientFilter(this._allItems,_1a6);_1a7(_1b0,_1a6);return _1b0;}));var _1b1=d.io.script.get(_1ab);_1b1.addErrback(function(_1b2){d.disconnect(_1aa);_1a8(_1b2,_1a6);});},clearData:function(){this._allItems=null;}});dojo.extend(fmr.rct.sal.data.SimpleJsonpStore,dojo.data.util.simpleFetch);})();}if(!dojo._hasResource["fmr.rct.sal.GenericFacade"]){dojo._hasResource["fmr.rct.sal.GenericFacade"]=true;dojo.provide("fmr.rct.sal.GenericFacade");dojo.declare("fmr.rct.sal.GenericFacade",null,{constructor:function(_1b3,_1b4,_1b5){this.handler=_1b3;this.handler.incomingFilters=_1b4;this.handler.outgoingFilters=_1b5;},getRequest:function(_1b6){return this.handler.getRequest(_1b6);},send:function(_req){this.handler.send(_req);},cancel:function(req){this.handler.cancel(req);}});}if(!dojo._hasResource["fmr.rct.sal.GenericRequest"]){dojo._hasResource["fmr.rct.sal.GenericRequest"]=true;dojo.provide("fmr.rct.sal.GenericRequest");dojo.declare("fmr.rct.sal.GenericRequest",null,{constructor:function(){this.type="generic request";this.responder=null;this.outgoinghandler={process:function(_1b9,_1ba){alert("request handler.process :not overridden");}};this.incominghandler={process:function(_1bb,_1bc){alert("request handler.process :not overridden");}};},setResponder:function(_1bd){this.responder=_1bd;},addFilter:function(_1be,_1bf){if(_1bf){_1be.handler=this.incominghandler;this.incominghandler=_1be;}else{_1be.handler=this.outgoinghandler;this.outgoinghandler=_1be;}},send:function(){this.outgoinghandler.process(this,null);},cancel:function(){}});}if(!dojo._hasResource["fmr.rct.sal.HandlerBase"]){dojo._hasResource["fmr.rct.sal.HandlerBase"]=true;dojo.provide("fmr.rct.sal.HandlerBase");dojo.declare("fmr.rct.sal.HandlerBase",null,{constructor:function(){this.incomingFilters=[];this.outgoingFilters=[];this.config={};this.requestType=fmr.rct.sal.GenericRequest;},getRequest:function(_1c0){var req=new this.requestType();for(var _1c2 in this.config){req[_1c2]=this.config[_1c2];}if(_1c0){for(var _1c2 in _1c0){req[_1c2]=_1c0[_1c2];}}req.outgoinghandler=this._makeOutgoingProxy();req.incominghandler=this._makeIncomingProxy();var _1c3=true;var _1c4=[this.incomingFilters,this.outgoingFilters];for(var j=0;j<_1c4.length;j++){for(var i=_1c4[j].length-1;i>=0;i--){req.addFilter(new _1c4[j][i](),_1c3);}_1c3=false;}return req;},send:function(_req){_req.send();},cancel:function(_req){_req.cancel();},_makeOutgoingProxy:function(){var _1c9=this;return {process:function(_1ca,_1cb){setTimeout(function(){_1ca.incominghandler.process(_1ca,{});},0);}};},_makeIncomingProxy:function(){return {process:function(_1cc,_1cd){_1cc.responder.onResponse(_1cc,_1cd);}};}});}if(!dojo._hasResource["fmr.rct.sal.filters.CS203Filter"]){dojo._hasResource["fmr.rct.sal.filters.CS203Filter"]=true;dojo.provide("fmr.rct.sal.filters.CS203Filter");dojo.declare("fmr.rct.sal.filters.CS203Filter",null,{constructor:function(){this.type="CS203Filter";this.handler=null;},process:function(_1ce,_1cf){if(_1cf.continueProcessing){var _1d0=_1cf.result.XML.getElementsByTagName("CS203ValidationError")[0];if(_1d0){_1cf.continueProcessing=false;}}this.handler.process(_1ce,_1cf);}});}dojo.provide("fmr.rct.sal.filters.FebSecFilter");dojo.declare("fmr.rct.sal.filters.FebSecFilter",null,{constructor:function(){this.type="initial filter (febsec)";this.handler=null;},process:function(_1d1,_1d2){if(_1d2.continueProcessing){if(_1d2.status.Code=="500"){_xmlResponse=_1d2.result.XML;if(_xmlResponse){_febsec=_xmlResponse.getElementsByTagName("FeBSec")[0];if(_febsec){_status=_febsec.getElementsByTagName("Status")[0].firstChild.nodeValue;_sub_status=_febsec.getElementsByTagName("Substatus")[0].firstChild.nodeValue;_reason=_febsec.getElementsByTagName("Reason")[0].firstChild.nodeValue;_as_loc=_febsec.getElementsByTagName("Location")[0].firstChild.nodeValue;_err="FebSec Error("+_status+"."+_sub_status+"): "+_reason;_1d2.continueProcessing=false;_evt=fmr.rct.Eventing.getInstance();_evt.publish("/febsec/timeout/error",[_as_loc,_err]);}}}}this.handler.process(_1d1,_1d2);}});if(!dojo._hasResource["fmr.rct.sal.filters.JsonExtractorFilter"]){dojo._hasResource["fmr.rct.sal.filters.JsonExtractorFilter"]=true;dojo.provide("fmr.rct.sal.filters.JsonExtractorFilter");dojo.declare("fmr.rct.sal.filters.JsonExtractorFilter",null,{constructor:function(){this.type="JsonExtractorFilter";this.handler=null;},process:function(_1d3,_1d4){if(_1d4.continueProcessing){_json=_1d4.result.XML.getElementsByTagName("JSON")[0];if(_json){_1d4.result.Text=_json.firstChild.nodeValue;}}this.handler.process(_1d3,_1d4);}});}dojo.provide("fmr.rct.sal.filters.JsonPollingFilter");dojo.declare("fmr.rct.sal.filters.JsonPollingFilter",null,{constructor:function(){this.type="JSON Polling Filter";this.handler=null;},process:function(_1d5,_1d6){var _1d7=_1d6.result.JSON.POLLING_CONTROL;if(_1d7){if(_1d7.INTERVAL){try{var _1d8=parseInt(_1d7.INTERVAL);if(_1d8>0){_1d5.setPollingInterval(_1d8);}else{_1d5.cancel();}}catch(err){_1d5.cancel();}}}this.handler.process(_1d5,_1d6);}});if(!dojo._hasResource["fmr.rct.sal.filters.StripPaddingFilter"]){dojo._hasResource["fmr.rct.sal.filters.StripPaddingFilter"]=true;dojo.provide("fmr.rct.sal.filters.StripPaddingFilter");dojo.declare("fmr.rct.sal.filters.StripPaddingFilter",null,{constructor:function(){this.type="StripPaddingFilter";this.handler=null;},_parseXml:function(_1d9){if(typeof DOMParser!="undefined"){_1d9=this._normalize_string(_1d9);return (new DOMParser()).parseFromString(_1d9,"application/xml");}else{if(typeof ActiveXObject!="undefined"){var doc=new ActiveXObject("MSXML2.DOMDocument");doc.loadXML(_1d9);return doc;}else{var url="data:text/xml;charset=utf-8,"+encodeURIComponent(_1d9);var _1dc=new XMLHttpRequest();_1dc.open("GET",url,false);_1dc.send();return _1dc.responseXML;}}},_trim:function(_1dd){var _1de=_1dd.match(/^\s*(.*\S)\s*$/);if(_1de!==null&&_1de.length===2){return _1de[1];}else{return _1dd;}},_normalize_string:function(_1df){var _1e0="";if(_1df.indexOf("\n")!=-1){string=_1df.split("\n");for(var i=0;i<string.length;i++){_1e0+=string[i].replace(/^\s*|\s(?=\s)|\s*$/g,"");}return _1e0;}else{return _1df;}},process:function(_1e2,_1e3){if(_1e3.continueProcessing){_text=this._trim(_1e3.result.Text);_1e3.result.Text=_text;_1e3.result.XML=this._parseXml(_text);}this.handler.process(_1e2,_1e3);}});}if(!dojo._hasResource["fmr.rct.sal.xhr.DojoXhrHandler"]){dojo._hasResource["fmr.rct.sal.xhr.DojoXhrHandler"]=true;dojo.provide("fmr.rct.sal.xhr.DojoXhrHandler");dojo.declare("fmr.rct.sal.xhr.DojoXhrHandler",fmr.rct.sal.HandlerBase,{constructor:function(){},_makeOutgoingProxy:function(){var _1e4=this;return {process:function(_1e5,_1e6){var _1e7=_1e4.config["params"]||{};var _1e8=dojo.mixin(_1e7,_1e5.params);var meth=_1e5.method||_1e4.config["method"]||"GET";var _1ea=_1e5.url||_1e4.config["url"];var _1eb=_1e5.timeout||_1e4.config["timeout"];var pc=_1e5.preventCache||false;var _1ed=dojo.xhr(meth,{url:_1ea,handleAs:_1e5.handleAs,timeout:_1eb,sync:_1e5.sync,preventCache:pc,content:_1e8,handle:function(_1ee,_1ef){if(_1ee instanceof Error){if(_1ee.dojoType=="cancel"){_1e5.responder.onFault(_1e5,{continueProcessing:false,status:{Code:9998,Message:"Request cancelled by other JavaScript code"},result:{response:_1ee}});}else{if(_1ee.dojoType=="timeout"){_1e5.responder.onFault(_1e5,{continueProcessing:false,status:{Code:9999,Message:"Request Timeout"},result:{response:_1ee}});}}}else{if(_1e5._cancelled===true){}}_1e5.incominghandler.process(_1e5,{continueProcessing:true,status:{Code:_1ef.xhr.status,Message:_1ef.xhr.statusText},result:{Text:_1ef.xhr.responseText,XML:_1ef.xhr.responseXML}});return _1ee;}},"POST"==meth);_1ed.addCallback(function(_1f0){if(_1e5.pollingInterval&&!_1e5.cancelled){console.log(_1e5);_1e5.pollId=setTimeout(function(){_1e5.send();},_1e5.pollingInterval);}});}};},_makeIncomingProxy:function(){return {process:function(_1f1,_1f2){if(_1f2.status.Code=="200"){_1f1.responder.onResponse(_1f1,_1f2);}else{_1f1.responder.onFault(_1f1,_1f2);}}};},getRequest:function(){var _1f3=this.inherited(arguments);_1f3.isAsync=true;_1f3.cancelled=false;_1f3.cancel=function(){clearTimeout(_1f3.pollId);_1f3.cancelled=true;};_1f3.setPollingInterval=function(p){_1f3.pollingInterval=p;};_1f3.send=function(){this.cancelled=false;this.outgoinghandler.process(this,null);};return _1f3;}});}if(!dojo._hasResource["fmr.rct.sal.jsonp.DojoJsonpHandler"]){dojo._hasResource["fmr.rct.sal.jsonp.DojoJsonpHandler"]=true;dojo.provide("fmr.rct.sal.jsonp.DojoJsonpHandler");dojo.declare("fmr.rct.sal.jsonp.DojoJsonpHandler",fmr.rct.sal.HandlerBase,{constructor:function(){},_makeOutgoingProxy:function(){var _1f5=this;return {process:function(_1f6,_1f7){var _1f8=_1f6.url||_1f5.config["url"];var _1f9=_1f6.timeout||_1f5.config["timeout"];var _1fa=_1f6.callbackParamName||_1f5.config["callbackParamName"];var pc=_1f6.preventCache||false;var _1fc=dojo.io.script.get({url:_1f8,timeout:_1f9,callbackParamName:_1fa,preventCache:pc,content:_1f6.params,headers:_1f6.headers,query:_1f6.query,timeout:_1f6.timeout,error:function(_1fd,_1fe){_1f6.incominghandler.process(_1f6,{continueProcessing:true,status:{Code:"999",Message:"error"},result:{}});return _1fd;},load:function(_1ff,_200){_1f6.incominghandler.process(_1f6,{continueProcessing:true,status:{Code:"200",Message:"Ok"},result:{JSON:_200.json}});return _1ff;}});_1fc.addCallback(function(_201){if(_1f6.pollingInterval&&!_1f6.cancelled){_1f6.pollId=setTimeout(function(){_1f6.send();},_1f6.pollingInterval);}});}};},_makeIncomingProxy:function(){return {process:function(_202,_203){if(_203.status.Code=="200"){_202.responder.onResponse(_202,_203);}else{_202.responder.onFault(_202,_203);}}};},getRequest:function(){var _204=this.inherited(arguments);_204.isAsync=true;_204.cancelled=false;_204.cancel=function(){clearTimeout(_204.pollId);_204.cancelled=true;};_204.setPollingInterval=function(p){_204.pollingInterval=p;};_204.send=function(){this.cancelled=false;this.outgoinghandler.process(this,null);};return _204;}});}if(!dojo._hasResource["fmr.rct.sal.ServiceFactory"]){dojo._hasResource["fmr.rct.sal.ServiceFactory"]=true;dojo.provide("fmr.rct.sal.ServiceFactory");fmr.rct.sal.ServiceFactory=new function(){var doXd=false;var _207={_default_:{facade:{clazz:"fmr.rct.sal.GenericFacade"},handler:{clazz:"fmr.rct.sal.xhr.DojoXhrHandler",request:{clazz:"fmr.rct.sal.GenericRequest"},timeout:3000,method:"GET",url:"sal-service"}}};var _208=function(node,task,_20b){for(var _20c in node){if(node.hasOwnProperty(_20c)){if(node[_20c]&&typeof node[_20c]==="object"){_208(node[_20c],task,_20c);}}}task(node,_20b);};var _20d={};var _20e=function(node,_210){if(node.clazz&&typeof node.clazz==="string"){if(!_20d[node.clazz]){_20d[node.clazz]=[];dojo["require"](node.clazz);}_20d[node.clazz].push(function(){node.clazz=dojo.getObject(node.clazz);});}};var _211=function(_212){_208(_212,_20e);for(var _213 in _20d){while(_20d[_213].length){_20d[_213].shift()();}delete (_20d[_213]);}};_211(_207);this.addConfig=function(_214,_215){_207[_214]=_215;_211(_207[_214]);};this.addConfigs=function(_216){for(var _217 in _216){this.addConfig(_217,_216[_217]);}};this.getService=function(_218){var _219;if(!_218){_219={name:"_default_"};}else{if(typeof _218==="object"){_219=_218;if(!_219.name){_219.name="_default_";}}else{if(typeof _218==="string"){_219={name:_218};}else{throw new Error("Invalid type of service spec : requires object or string");}}}var _21a=_207[_219.name];var _21b=_21a.handler;var _21c=new _21b.clazz();var _21d={incomingFilters:[],outgoingFilters:[]};_21c.requestType=_21b.request.clazz;for(var _21e in {incomingFilters:"",outgoingFilters:""}){if(_21b[_21e]){_208(_21b[_21e],function(node,_220){if(node.clazz){_21d[_21e].push(node.clazz);}},_21e);}}for(var _221 in _21b){switch(_221){case "clazz":case "request":case "incomingFilters":case "outgoingFilters":break;default:_21c.config[_221]=_21b[_221];}}for(var _221 in _219){switch(_221){case "name":case "callback":break;case "incomingFilters":case "outgoingFilters":_21d[_221]=_219[_221];break;default:_21c.config[_221]=_219[_221];}}var _222=new _21a.facade.clazz(_21c,_21d.incomingFilters,_21d.outgoingFilters);return _222;};};}
